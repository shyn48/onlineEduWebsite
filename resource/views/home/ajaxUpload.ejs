<form id="myForm" class="w-50">
    <div class="form-group">
        <label for="name">نام:</label>
        <input type="text" name="name" class="form-control" id="name">
    </div>
    <div class="form-group">
        <label for="family">نام خانوداگی:</label>
        <input type="text" name="family" class="form-control" id="family">
    </div>
    <div class="form-group">
        <label for="file">تصویر کاربر:</label>
        <input type="file" name="file" class="form-control" id="file">
    </div>
    <button type="submit" class="btn btn-danger">ارسال</button>
</form>

<script>

    document.getElementById('myForm').addEventListener('submit', (e) => {
        e.preventDefault();
        let name = document.querySelector('input[name="name"]')
        let family = document.querySelector('input[name="family"]')
        let file = document.querySelector('input[name="file"]')

        let formData = new FormData();
        formData.append('name', name.value)
        formData.append('family', family.value)
        formData.append('file', file.files[0])


        fetch('/upload', {
            method: 'POST',
            body: formData
        }).then(res => {
            return res.json();
        }).then(res => {

        }).catch(err => {
            console.error(err);
        })
    })

</script>